schema: '2.0'
stages:
  download_ATMP:
    cmd: python prepare.py download --dataset ATMP
    deps:
    - path: data/inputs/datasets/ATMP/models.tsv
      hash: md5
      md5: 32f127a139be3957fe06480dd5caa9e6
      size: 25280
    outs:
    - path: data/inputs/datasets/ATMP/papers
      hash: md5
      md5: cf0af8a3ebfa445466357bcccadf15aa.dir
      size: 154752965
      nfiles: 87
  download_breast_cancer:
    cmd: python prepare.py download --dataset breast-cancer
    deps:
    - path: data/inputs/datasets/breast-cancer/models.tsv
      hash: md5
      md5: 4fd66c0fb66a8616f3fd02c7e8ed6a9d
      size: 249074
    outs:
    - path: data/inputs/datasets/breast-cancer/papers
      hash: md5
      md5: 537df90f01902975b207e810b5df47da.dir
      size: 2110529081
      nfiles: 830
  download_immuno_oncology:
    cmd: python prepare.py download --dataset immuno-oncology
    deps:
    - path: data/inputs/datasets/immuno-oncology/models.tsv
      hash: md5
      md5: 9ba01f5c59eeac80526d7e7196799d6f
      size: 168291
    outs:
    - path: data/inputs/datasets/immuno-oncology/papers
      hash: md5
      md5: ff8a62b24cd66777be26672a308fac6f.dir
      size: 890647515
      nfiles: 488
  download_CVD:
    cmd: python prepare.py download --dataset CVD
    deps:
    - path: data/inputs/datasets/CVD/models.tsv
      hash: md5
      md5: 982fbb273f2b3860c06188c537e34456
      size: 117001
    outs:
    - path: data/inputs/datasets/CVD/papers
      hash: md5
      md5: bc3673d94ea772a3c52b711609fb39db.dir
      size: 843036065
      nfiles: 437
  download_neurodegenerative:
    cmd: python prepare.py download --dataset neurodegenerative
    deps:
    - path: data/inputs/datasets/neurodegenerative/models.tsv
      hash: md5
      md5: 7e0eb6a04a2ce6a628530baa165f4451
      size: 240657
    outs:
    - path: data/inputs/datasets/neurodegenerative/papers
      hash: md5
      md5: a95e092c90e1006c9019e96d5d11edb5.dir
      size: 52775902
      nfiles: 505
  download_respiratory:
    cmd: python prepare.py download --dataset respiratory
    deps:
    - path: data/inputs/datasets/respiratory/models.tsv
      hash: md5
      md5: 39fa700e9996f3cbe8bf336c53aecbb9
      size: 335375
    outs:
    - path: data/inputs/datasets/respiratory/papers
      hash: md5
      md5: 34d14c8f2029afbf61a7df594e7acdda.dir
      size: 780368865
      nfiles: 276
  parse_ATMP:
    cmd: python prepare.py parse --dataset ATMP --recreate_parent true
    deps:
    - path: data/inputs/datasets/ATMP/papers
      hash: md5
      md5: cf0af8a3ebfa445466357bcccadf15aa.dir
      size: 154752965
      nfiles: 87
    outs:
    - path: data/inputs/datasets/ATMP/parsed_papers
      hash: md5
      md5: 2bb488da15bd5cf45b2f62fbec37f4ca.dir
      size: 3467572
      nfiles: 67
  parse_CVD:
    cmd: python prepare.py parse --dataset CVD --recreate_parent true
    deps:
    - path: data/inputs/datasets/CVD/papers
      hash: md5
      md5: bc3673d94ea772a3c52b711609fb39db.dir
      size: 843036065
      nfiles: 437
    outs:
    - path: data/inputs/datasets/CVD/parsed_papers
      hash: md5
      md5: 174f905a7b7487757bc4fad023ace727.dir
      size: 11770926
      nfiles: 240
  parse_breast_cancer:
    cmd: python prepare.py parse --dataset breast-cancer --recreate_parent true
    deps:
    - path: data/inputs/datasets/breast-cancer/papers
      hash: md5
      md5: 537df90f01902975b207e810b5df47da.dir
      size: 2110529081
      nfiles: 830
    outs:
    - path: data/inputs/datasets/breast-cancer/parsed_papers
      hash: md5
      md5: f024acfcba2c5e3bc3da6c762414144f.dir
      size: 34880363
      nfiles: 683
  parse_immuno_oncology:
    cmd: python prepare.py parse --dataset immuno-oncology --recreate_parent true
    deps:
    - path: data/inputs/datasets/immuno-oncology/papers
      hash: md5
      md5: ff8a62b24cd66777be26672a308fac6f.dir
      size: 890647515
      nfiles: 488
    outs:
    - path: data/inputs/datasets/immuno-oncology/parsed_papers
      hash: md5
      md5: b3ba2304e5e9d6a09cfbd3bd66788cb5.dir
      size: 16805544
      nfiles: 339
  parse_neurodegenerative:
    cmd: python prepare.py parse --dataset neurodegenerative --recreate_parent true
    deps:
    - path: data/inputs/datasets/neurodegenerative/papers
      hash: md5
      md5: a95e092c90e1006c9019e96d5d11edb5.dir
      size: 52775902
      nfiles: 505
    outs:
    - path: data/inputs/datasets/neurodegenerative/parsed_papers
      hash: md5
      md5: 8e86e3c330b5ae849fdd2a34e5afbd9b.dir
      size: 642081
      nfiles: 9
  parse_respiratory:
    cmd: python prepare.py parse --dataset respiratory --recreate_parent true
    deps:
    - path: data/inputs/datasets/respiratory/papers
      hash: md5
      md5: 34d14c8f2029afbf61a7df594e7acdda.dir
      size: 780368865
      nfiles: 276
    outs:
    - path: data/inputs/datasets/respiratory/parsed_papers
      hash: md5
      md5: 63ec8e973bad3bd4bdc1eba51d284e6b.dir
      size: 14305168
      nfiles: 275
  draw_pipeline:
    cmd: dvc dag --dot | dot -Tsvg -o dvc_pipeline.svg
  stats_ATMP:
    cmd: python prepare.py stats --dataset ATMP --access data/inputs/datasets/ATMP/access.json
    deps:
    - path: data/inputs/datasets/ATMP/models.tsv
      hash: md5
      md5: 32f127a139be3957fe06480dd5caa9e6
      size: 25280
    outs:
    - path: data/inputs/datasets/ATMP/access.json
      hash: md5
      md5: b31c8f09000892cff0fa7c6264ede8c2
      size: 38229
  stats_CVD:
    cmd: python prepare.py stats --dataset CVD --access data/inputs/datasets/CVD/access.json
    deps:
    - path: data/inputs/datasets/CVD/models.tsv
      hash: md5
      md5: 982fbb273f2b3860c06188c537e34456
      size: 117001
    outs:
    - path: data/inputs/datasets/CVD/access.json
      hash: md5
      md5: 18cdc8d8f7a2ef13c8d5b8acc17a417b
      size: 186679
  stats_breast_cancer:
    cmd: python prepare.py stats --dataset breast_cancer --access data/inputs/datasets/breast_cancer/access.json
    deps:
    - path: data/inputs/datasets/breast_cancer/models.tsv
      hash: md5
      md5: 4fd66c0fb66a8616f3fd02c7e8ed6a9d
      size: 249074
    outs:
    - path: data/inputs/datasets/breast_cancer/access.json
      hash: md5
      md5: 82c8f0183b3987f6340fbccfb5983054
      size: 384800
  stats_immuno_oncology:
    cmd: python prepare.py stats --dataset immuno_oncology --access data/inputs/datasets/immuno_oncology/access.json
    deps:
    - path: data/inputs/datasets/immuno_oncology/models.tsv
      hash: md5
      md5: 9ba01f5c59eeac80526d7e7196799d6f
      size: 168291
    outs:
    - path: data/inputs/datasets/immuno_oncology/access.json
      hash: md5
      md5: a47e2d0945a0fb2b482426e2ddbc19fa
      size: 235485
  stats_neurodegenerative:
    cmd: python prepare.py stats --dataset neurodegenerative --access data/inputs/datasets/neurodegenerative/access.json
    deps:
    - path: data/inputs/datasets/neurodegenerative/models.tsv
      hash: md5
      md5: 7e0eb6a04a2ce6a628530baa165f4451
      size: 240657
    outs:
    - path: data/inputs/datasets/neurodegenerative/access.json
      hash: md5
      md5: 00cf8f7882acd7f75d85088582ab3af7
      size: 72679
  stats_respiratory:
    cmd: python prepare.py stats --dataset respiratory --access data/inputs/datasets/respiratory/access.json
    deps:
    - path: data/inputs/datasets/respiratory/models.tsv
      hash: md5
      md5: 39fa700e9996f3cbe8bf336c53aecbb9
      size: 335375
    outs:
    - path: data/inputs/datasets/respiratory/access.json
      hash: md5
      md5: 3001be02f8d653390e8a0ced2719804d
      size: 121108
  stats_all:
    cmd: jq -s 'reduce .[] as $item ({}; . * $item)' 
      data/inputs/datasets/{ATMP,CVD,breast_cancer,immuno_oncology,neurodegenerative,respiratory}/access.json
      > data/inputs/datasets/access_all.json
    deps:
    - path: data/inputs/datasets/ATMP/access.json
      hash: md5
      md5: b31c8f09000892cff0fa7c6264ede8c2
      size: 38229
    - path: data/inputs/datasets/CVD/access.json
      hash: md5
      md5: 18cdc8d8f7a2ef13c8d5b8acc17a417b
      size: 186679
    - path: data/inputs/datasets/breast_cancer/access.json
      hash: md5
      md5: 82c8f0183b3987f6340fbccfb5983054
      size: 384800
    - path: data/inputs/datasets/immuno_oncology/access.json
      hash: md5
      md5: a47e2d0945a0fb2b482426e2ddbc19fa
      size: 235485
    - path: data/inputs/datasets/neurodegenerative/access.json
      hash: md5
      md5: 00cf8f7882acd7f75d85088582ab3af7
      size: 72679
    - path: data/inputs/datasets/respiratory/access.json
      hash: md5
      md5: 3001be02f8d653390e8a0ced2719804d
      size: 121108
    outs:
    - path: data/inputs/datasets/access_all.json
      hash: md5
      md5: 643ee9b73353619a21b594a98001c44a
      size: 150153
